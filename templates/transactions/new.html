<table class = "transactions">
  <tr class = "transaction_title_row">
    <form action="/transactions/sort" method = "post">
      <th class = "col1"><button type="submit" name="button" value = "transaction_date">Date</button></th>
      <th class = "col2"><button type="submit" name="button" value = "merchant_id">Merchant</button></th>
      <th class = "col3"><button type="submit" name="button" value = "category_id">Category</button></th>
      <th class = "col4"><button type="submit" name="button" value = "amount">Amount</button></th>
      <th class = "col5">Edit Functions</th>
    </form>
  </tr>

<!-- content differs here -->
  <tr>
    <form action="/transactions/new" method="post">
      <!-- date picker -->
      <th><input type="date" id="date" name="date" required autofocus></th>
      <!-- merchant picker -->
      <th>
        <input type="text" id= "merchant" name = "merchant" list="merchants" />
        <datalist id = "merchants">
          {% for merchant in all_merchants %}
            <option value = "{{merchant.name}}"> 
          {% endfor %}
        </datalist>
      </th>
      <!-- category picker -->
      <th>
        <input type="text" id= "category" name = "category" list="categories" />
        <datalist id = "categories">
          {% for category in all_categories %}
            <option value = "{{category.name}}"> 
          {% endfor %}
        </datalist>
      </th>
      <!-- Amount picker -->
      <th>
        <span>Â£</span>
        <input type="number" name="amount_pound" class = "pounds" min = "00" max = "99999">
        <span>.</span>
        <input type="number" name="amount_pence" class = "pence" min = "00" max = "99">
      </th>
      <!-- Confirmation/Submit -->
      <th>
        <button><a href="/transactions">Cancel</a></button>
        <button type="submit">Add Transaction</button>
      </th>
    </form>
  </tr>
<!-- content differs here -->
{% for transaction in all_transactions %}
  <tr class = "transaction row">
    <td>{{transaction.date_format()}}</td>
    <td>{{transaction.merchant.name}}</td>
    <td>{{transaction.category.name}}</t>
    <td>{{transaction.currency_format()}}</td>
    <td><a href="/transactions/{{transaction.id}}/edit">Edit</a> <a href="/transactions/{{transaction.id}}/delete">Delete</a></td>
  </tr>
  {% endfor %}
  <tr class = "transaction_row">
    <td></td>
    <td></td>
    <td></td>
    <td>Total: </td>
  </tr>
</table>